$(function(t){var e;t.fn.nextOrFirst=function(i){var e=this.next(i);return e.length?e:this.prevAll(i).last()},t('[data-scroll="next"]').on("click",function(i){i.preventDefault(),t("div.options").scrollTo(t(this).closest(".section-section").nextAll(".section-section.no-hide").first(),{axis:"y",offset:0,duration:600})}),window.setTimeout(function(){t("#splash").addClass("splash")},800),t("[data-splash]").click(function(i){i.preventDefault(),t(this).parents("#splash").addClass("unsplash")}),t("#staircase figure .panzoom").imagesLoaded().always(function(i){window.setTimeout(function(){t("#loader").removeClass("loading").addClass("ready")},2500)}),t("input.tog").click(function(i){t(this).is(":checked")?(t(this).parents(".tog-wrap").find("label:last-child").addClass("active"),t(this).parents(".tog-wrap").find("label:first-child").removeClass("active")):(t(this).parents(".tog-wrap").find("label:last-child").removeClass("active"),t(this).parents(".tog-wrap").find("label:first-child").addClass("active"))}),t("#tog-diameter input").click(function(i){if(t("#slider-treads").slick("slickUnfilter"),t(this).is(":checked")){t("#staircase").attr("data-cont","6"),t("#review-staircase").attr("data-cont","6"),t(this).attr("data-diameter","6"),t("#slider-treads").slick("slickFilter",".platetype-closed"),t(".options").attr("data-isdiameter","6");(e=angular.element(t("body"))).controller();(s=e.scope()).$apply(function(){s.staircase.setOption("diameter",staircaseOptions.diameter[1])})}else{t("#staircase").attr("data-cont","5"),t("#review-staircase").attr("data-cont","5"),t(this).attr("data-diameter","5"),t(".options").attr("data-isdiameter","5");var e,s;(e=angular.element(t("body"))).controller();(s=e.scope()).$apply(function(){s.staircase.setOption("diameter",staircaseOptions.diameter[0])})}t("#slider-treads").slick("refresh"),window.setTimeout(function(){t("#slider-treads").slick("slickGoTo",0)},200),window.setTimeout(function(){t("#slider-treads").find(".slick-current").click()},400),t("#loader").removeClass("ready").addClass("loading"),t("#staircase figure").hide(),t("#staircase figure .panzoom").imagesLoaded().always(function(i){window.setTimeout(function(){t("#staircase figure").show(),t("#loader").removeClass("loading").addClass("ready")},200)})}),t("#tog-tread_coverings input").click(function(i){e=t(".options").attr("data-iscovering"),t("#slider-tread_coverings").slick("slickUnfilter"),t(this).is(":checked")?(t(this).attr("data-tread_coverings","no-tread-covering"),t(".options").attr("data-iscovering","no-tread-covering")):(t(this).attr("data-tread_coverings","tread-covering"),t(".options").attr("data-iscovering","tread-covering")),e=t(".options").attr("data-iscovering"),t("#slider-tread_coverings").slick("slickFilter","."+e),t("#slider-tread_coverings").slick("refresh"),window.setTimeout(function(){t("#slider-tread_coverings").slick("slickGoTo",0)},200),window.setTimeout(function(){t("#slider-tread_coverings").find(".slick-current").click()},400)}),t("#tog-lighting input").click(function(i){if(t(this).is(":checked")){t(this).attr("data-lighting","yes");(e=angular.element(t("body"))).controller();(s=e.scope()).$apply(function(){s.staircase.setOption("lighting",staircaseOptions.lighting[1])})}else{t(this).attr("data-lighting","no");var e,s;(e=angular.element(t("body"))).controller();(s=e.scope()).$apply(function(){s.staircase.setOption("lighting",staircaseOptions.lighting[0])})}t("#loader").removeClass("ready").addClass("loading"),t("#staircase figure").hide(),t("#staircase figure .panzoom").imagesLoaded().always(function(i){window.setTimeout(function(){t("#staircase figure").show(),t("#loader").removeClass("loading").addClass("ready")},200)})});var s;t("#inorout-tog").attr("data-inorout");t("#tog-inorout input").click(function(i){s=t(".options").attr("data-istreadtype"),t("#slider-tread_coverings, #slider-spindles, #slider-handrails, #slider-pole_caps, #slider-colors_finishes").slick("slickUnfilter"),t(this).is(":checked")?(t(this).attr("data-inorout","outdoor"),t(".options").attr("data-isinorout","outdoor"),t("#slider-tread_coverings").slick("slickFilter","."+s+".outdoor"),t("#slider-spindles").slick("slickFilter","."+s),t("#slider-handrails").slick("slickFilter",".outdoor"),t("#slider-pole_caps").slick("slickFilter",".outdoor"),t("#slider-colors_finishes").slick("slickFilter",".outdoor")):(t(this).attr("data-inorout","indoor"),t(".options").attr("data-isinorout","indoor"),t("#slider-tread_coverings").slick("slickFilter","."+s+".indoor"),t("#slider-spindles").slick("slickFilter","."+s),t("#slider-handrails").slick("slickFilter",".indoor"),t("#slider-pole_caps").slick("slickFilter",".indoor"),t("#slider-colors_finishes").slick("slickFilter",".indoor")),t("#slider-tread_coverings, #slider-spindles, #slider-handrails, #slider-pole_caps, #slider-colors_finishes").slick("refresh"),window.setTimeout(function(){t("#slider-tread_coverings, #slider-spindles, #slider-handrails, #slider-pole_caps, #slider-colors_finishes").slick("slickGoTo",0)},200),window.setTimeout(function(){t("#slider-tread_coverings, #slider-spindles, #slider-handrails, #slider-pole_caps, #slider-colors_finishes").find(".slick-current").click()},400)}),t(".s-slider").slick({centerMode:!0,centerPadding:"0",slidesToShow:3,slidesToScroll:1,swipeToSlide:!0,infinite:!1,dots:!0,prevArrow:'<div data-role="none" class="prev slick-button" aria-label="Previous" tabindex="0" role="button"><i class="_dgicon-chevron-left"></i></div>',nextArrow:'<div data-role="none" class="next slick-button" aria-label="Next" tabindex="0" role="button"><i class="_dgicon-chevron-right"></i></div>',responsive:[{breakpoint:1025,settings:{slidesToShow:1,slidesToScroll:1,centerPadding:"25%"}},{breakpoint:481,settings:{slidesToShow:1,slidesToScroll:1,centerPadding:"0"}}]}),t(".slick-current").addClass("selected"),t(".slick-slider").each(function(i){var s=t(this);t(this).on("click",".slick-slide",function(i){i.stopPropagation(),t("#loader").removeClass("ready").addClass("loading"),t("#staircase figure .panzoom").imagesLoaded().always(function(i){window.setTimeout(function(){t("#loader").removeClass("loading").addClass("ready")},400)});var e=t(this).attr("data-slick-index");t(s).slick("slickCurrentSlide")!==e&&t(s).slick("slickGoTo",e),t(s).find(".selected").removeClass("selected"),t(this).addClass("selected")})});var i=t(".options").data("style");t("#slider-spindles").slick("slickSetOption",{centerMode:!1},!0),t("#slider-spindles").slick("refresh"),t("#slider-colors_finishes").slick("slickFilter","."+i),t("#slider-colors_finishes .slick-slide:first-child").click(),t("#slider-colors_finishes").slick("slickGoTo",0),t("#slider-treads").on("click",".slick-slide",function(i){i.stopPropagation();t(this).data("treadtype"),t(".options").attr("data-isinorout");e=t(this).data("treadtype"),t("#slider-tread_coverings").slick("slickUnfilter"),t("#slider-tread_coverings").slick("refresh"),t(".toggle-wrap.tread_coverings-wrap").show(0),window.setTimeout(function(){var i=t("#slider-tread_coverings").find(".slick-current").data("slick-index"),e=t("#slider-spindles").find(".slick-current").data("slick-index");t("#slider-tread_coverings").slick("slickGoTo",i),t("#slider-spindles").slick("slickGoTo",e)},200),window.setTimeout(function(){t("#slider-tread_coverings").find(".slick-current").click(),t("#slider-spindles").find(".slick-current").click()},400),"diamond-plate-open-ends"==t(this).data("slug")||"diamond-plate-closed-ends"==t(this).data("slug")?(t("#tog-tread_coverings input").attr("data-tread_coverings","no-tread-covering"),t(".options").attr("data-iscovering","no-tread-covering"),t("#tog-tread_coverings input").is(":checked")||t("#tog-tread_coverings input").click(),t(".toggle-wrap.tread_coverings-wrap").hide(0),t("#slider-tread_coverings").slick("slickFilter","."+e),t("#slider-tread_coverings").slick("refresh"),window.setTimeout(function(){t("#slider-tread_coverings .slick-slide:first-child").click()},800),window.setTimeout(function(){t("#slider-tread_coverings").slick("slickGoTo",0)},1200)):(t("#nav-tread_coverings").removeClass("disabled"),t("#section-tread_coverings").removeClass("hide").addClass("no-hide"),t('#review-tread_coverings a[data-show="tread_coverings"]').removeClass("disabled"),t("#slider-tread_coverings").slick("slickUnfilter"),t("#slider-tread_coverings").slick("refresh"),t("#tog-tread_coverings input").is(":checked")&&t("#tog-tread_coverings input").click())}),t(".stairTab").click(function(i){i.preventDefault(),t(".active").addClass("visited")});var o,a,n=t("#staircase"),r=n.find(".panzoom").panzoom({$zoomIn:n.find(".zoom-in"),$zoomOut:n.find(".zoom-out"),$zoomRange:n.find(".zoom-range"),$reset:n.find(".reset"),startTransform:"scale(1)",maxScale:2,minScale:1,increment:.25});r.parent().on("mousewheel.focal",function(i){i.preventDefault();var e=i.delta||i.originalEvent.wheelDelta,s=e?e<0:0<i.originalEvent.deltaY;r.panzoom("zoom",s,{increment:.25,focal:i}),window.setTimeout(function(){r.panzoom("resetDimensions")},200)}),t("[data-zoom]").click(function(i){i.preventDefault();var e=t(this).attr("data-zoom");t("[data-zoom]").removeClass("active"),t("[data-zoom]").removeClass("active"),t("[data-zoom]").removeClass("active"),t(this).addClass("active"),t(this).parents("#staircase").hasClass("zoom-default")?t(this).parents("#staircase").removeClass("zoom-default"):t(this).parents("#staircase").hasClass("zoom-top")?t(this).parents("#staircase").removeClass("zoom-top"):t(this).parents("#staircase").hasClass("zoom-bottom")&&t(this).parents("#staircase").removeClass("zoom-bottom"),t(this).parents("#staircase").addClass("zoom-"+e),r.panzoom("reset")}),t(".zoom-fill").click(function(i){i.preventDefault(),t("body").toggleClass("zoom-filled"),t(this).children("i").hasClass("_dgicon-zoom-in")?(t(this).children("i").removeClass("_dgicon-zoom-in"),t(this).children("i").addClass("_dgicon-zoom-out"),r.panzoom("reset")):t(this).children("i").hasClass("_dgicon-zoom-out")&&(t(this).children("i").removeClass("_dgicon-zoom-out"),t(this).children("i").addClass("_dgicon-zoom-in"),r.panzoom("reset"))}),t(".zoom-fill").click(function(i){i.preventDefault(),t("#staircase").removeClass("zoom-top"),t("#staircase").removeClass("zoom-bottom"),t("[data-zoom]").removeClass("active"),t('[data-zoom="default"]').addClass("active"),window.setTimeout(function(){r.panzoom("resetDimensions")},800)}),t(".zoom-close").click(function(i){i.preventDefault(),t("body").removeClass("zoom-filled"),t(".zoom-fill").children("i").removeClass("_dgicon-zoom-out").addClass("_dgicon-zoom-in"),r.panzoom("reset"),window.setTimeout(function(){r.panzoom("resetDimensions")},400)}),t(window).on("resize",function(){window.setTimeout(function(){r.panzoom("resetDimensions")},400)}),t(".active").addClass("visited"),t(".sections > div:first-child").addClass("is-visible"),t("[data-show]").on("click",function(i){i.preventDefault(),o=t(this).attr("data-show"),768<t(window).width()?(t(".sections >  div").removeClass("is-visible"),t("#section-"+o).addClass("is-visible"),t(".top-nav > li").removeClass("active"),t("#nav-"+o).addClass("active")):(t(".sections >  div").removeClass("is-visible"),t("#section-"+o).addClass("is-visible"),t("div.options").scrollTo("#section-"+o,{axis:"y",offset:0,duration:600}))}),t("#review-items [data-show]").on("click",function(i){i.preventDefault(),t(".takeover-nav").removeClass("show-menu"),t(".takeover-nav a").removeClass("toggled"),t("#review.takeover").removeClass("is-active")}),t(".info-toggle").on("click",function(i){i.preventDefault(),t(this).parents(".sectionTitle").toggleClass("show-info"),t(this).parents(".sectionTitle").hasClass("show-info")?(t(this).children("i").removeClass("_dgicon-info"),t(this).children("i").addClass("_dgicon-close")):(t(this).children("i").removeClass("_dgicon-close"),t(this).children("i").addClass("_dgicon-info"))}),t("[data-toggle]").on("click",function(i){i.preventDefault(),a=t(this).attr("data-toggle"),t("#"+a).hasClass("is-active")||(t(".takeover.is-active").removeClass("is-active"),t("#"+a).addClass("is-active"),t("body").addClass("js-no-scroll"))}),t("[data-close]").on("click",function(i){i.preventDefault(),toggleContainer=t(this).parents(".takeover").attr("id"),t(this).parents(".takeover").removeClass("is-active"),t('[data-toggle="'+toggleContainer+'"]').removeClass("toggled"),t("body").removeClass("js-no-scroll")}),t(".review-trigger").click(function(i){t(".takeover-nav").addClass("show-menu")}),t('[data-toggle="review"]').on("click",function(i){i.preventDefault();var e=t("#staircase figure .panzoom").html();t("#review-staircase figure").html(e)}),t(".downpdf").click(function(i){i.preventDefault();var e=new jsPDF("p","pt","letter");source=t("#content")[0],specialElementHandlers={"#bypassme":function(i,e){return!0}},margins={top:40,bottom:40,left:40,width:522},e.fromHTML(source,margins.left,margins.top,{width:margins.width,elementHandlers:specialElementHandlers},function(i){e.save("Trex_Spiral_Stairs-staircase-build.pdf")},margins)}),t("#tog-diameter input").click(function(i){t(this).is(":checked")?(t("#gform_3 #input_3_18.gform_hidden").val("6"),t("#content .diameter").text("6'")):(t("#gform_3 #input_3_18.gform_hidden").val("5"),t("#content .diameter").text("5'"))}),t("#slider-treads .slick-slide").click(function(i){i.preventDefault();var e=t(this).find("h3").text();t("#gform_3 #input_3_8.gform_hidden").val(e)}),window.setTimeout(function(){t("#slider-tread_coverings .slick-slide").click(function(i){i.preventDefault();var e=t(this).find("h3").text();t("#gform_3 #input_3_9.gform_hidden").val(e)}),t("#slider-spindles .slick-slide").click(function(i){i.preventDefault();var e=t(this).find("h3").text();t("#gform_3 #input_3_10.gform_hidden").val(e)})},400),t("#slider-colors_finishes .slick-slide").click(function(i){i.preventDefault();var e=t(this).find("h3").text();t("#gform_3 #input_3_13.gform_hidden").val(e)}),t("#tog-lighting input").click(function(i){t(this).is(":checked")?(t("#gform_3 #input_3_18.gform_hidden").val("Lighting Kit"),t("#content .lighting").text("Lighting Kit")):(t("#gform_3 #input_3_18.gform_hidden").val("No Lighting Kit"),t("#content .lighting").text("No Lighting Kit"))}),t(".review-trigger").click(function(){html2canvas(t("#staircase figure .panzoom"),{onrendered:function(i){theCanvas=i,document.body.appendChild(i),t("#img-out").html(Canvas2Image.convertToJPEG(i)),document.body.removeChild(i)}})}),window.setTimeout(function(){t("[data-fade]").addClass("in")},600),window.setTimeout(function(){t("main").addClass("in")},1200),window.setTimeout(function(){t("#staircase").addClass("in")},1600),t("[data-mh]").matchHeight(),FastClick.attach(document.body)});