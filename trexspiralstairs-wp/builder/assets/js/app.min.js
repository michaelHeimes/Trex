!function(){var e=angular.module("builder",[]);e.controller("StaircaseController",function(){this.scene=e,this.descriptions=staircaseOptionsDescriptions,this.descriptionalts=staircaseOptionsDescriptionAlts,this.names=staircaseOptionsNames,this.stairOptions=staircaseOptions,this.style=$(".options").data("style"),this.stairTabs=Object.keys(staircaseTabs),this.sections=Object.keys(this.stairOptions),this.sections.forEach(function(e){var o=i(e),t=-1!==$.inArray(o,staircaseOptions[e]);this[e]=t?o:staircaseOptions[e][0]}.bind(this)),this.setOption=function(e,o){this[e]=o},this.loadBuild=function(){var e=$("#loadBuild").val().split(";");for(var o in e){for(var t in o=e[o].split(":"),possibleOptions=[],staircaseOptions[o[0]])if(possibleOptions.push(staircaseOptions[o[0]][t].name),-1!==$.inArray(o[1],possibleOptions)){this[o[0]]=staircaseOptions[o[0]][t];break}}},this.saveBuild=function(){for(var e in buildCode="",this.stairOptions)buildCode+=e+":"+this[e].name+";";$("#buildcode").val(buildCode)},this.facebookShare=function(){window.open(this.createLink(),"_blank")},this.createLink=function(){for(var e in fbURI="https://www.facebook.com/sharer/sharer.php?u=",currentURI=window.location,buildQuery="?",this.stairOptions)buildQuery+=e+"="+this[e].name+"&";return console.log(fbURI+encodeURI(currentURI+buildQuery)),fbURI+encodeURIComponent(currentURI+buildQuery)}}),e.controller("SectionController",function(){this.section="diameter",this.optionChoice={},this.optionTitle="",this.selectTab=function(e){this.section=e,$(".active").addClass("visited")},this.isSelected=function(e){return this.section===e},this.setTakeOverOptions=function(e,o){this.optionChoice=e,this.optionTitle=o,$(".takeover").addClass("showTakeover")},this.hideTakeover=function(){$(".takeover.showTakeover").removeClass("showTakeover"),$(".takeover-nav.show-menu").removeClass("show-menu")}}),staircaseTabs={diameter:"Diameter",treads:"Treads",tread_coverings:"Tread Coverings",spindles:"Spindles",colors_finishes:"Colors & Options"},staircaseOptions={diameter:[{name:"5'",slug:"5",inorout:"indoor outdoor",description:""},{name:"6'",slug:"6",inorout:"indoor outdoor",description:""}],treads:[{name:"Smooth Plate with Open Ends",slug:"smooth-plate-open-ends",treadtype:"tread-covering",platetype:"platetype-open",description:""},{name:"Smooth Plate with Closed Ends",slug:"smooth-plate-closed-ends",treadtype:"tread-covering",platetype:"platetype-closed",description:""},{name:"Diamond Plate with Open Ends",slug:"diamond-plate-open-ends",treadtype:"no-tread-covering",platetype:"platetype-open",description:""},{name:"Diamond Plate with Closed Ends",slug:"diamond-plate-closed-ends",treadtype:"no-tread-covering",platetype:"platetype-closed",description:""}],tread_coverings:[{name:"No Tread Covering",slug:"no-tread-covering",covered:"no-tread-covering",treadtype:"taperedlip",inorout:"indoor outdoor",description:""},{name:"Fire Pit",slug:"fire-pit",covered:"tread-covering",treadtype:"taperedlip",inorout:"indoor outdoor",description:""},{name:"Gravel Path",slug:"gravel-path",covered:"tread-covering",treadtype:"taperedlip",inorout:"indoor outdoor",description:""},{name:"Havana Gold",slug:"havana-gold",covered:"tread-covering",treadtype:"taperedlip",inorout:"indoor outdoor",description:""},{name:"Island Mist",slug:"island-mist",covered:"tread-covering",treadtype:"taperedlip",inorout:"indoor outdoor",description:""},{name:"Lava Rock",slug:"lava-rock",covered:"tread-covering",treadtype:"taperedlip",inorout:"indoor outdoor",description:""},{name:"Rope Swing",slug:"rope-swing",covered:"tread-covering",treadtype:"taperedlip",inorout:"indoor outdoor",description:""},{name:"Spiced Rum",slug:"spiced-rum",covered:"tread-covering",treadtype:"taperedlip",inorout:"indoor outdoor",description:""},{name:"Tiki Torch",slug:"tiki-torch",covered:"tread-covering",treadtype:"taperedlip",inorout:"indoor outdoor",description:""},{name:"Tree House",slug:"tree-house",covered:"tread-covering",treadtype:"taperedlip",inorout:"indoor outdoor",description:""},{name:"Vintage Lantern",slug:"vintage-lantern",covered:"tread-covering",treadtype:"taperedlip",inorout:"indoor outdoor",description:""}],spindles:[{name:"Square",slug:"square",treadtype:"taperedlip",inorout:"indoor outdoor",description:""},{name:"Round",slug:"round",treadtype:"taperedlip",inorout:"indoor outdoor",description:""},{name:"Multiline",slug:"multiline",treadtype:"taperedlip",inorout:"indoor outdoor",description:""}],lighting:[{name:"No Lighting Kit",slug:"no-lighting-kit",inorout:"indoor outdoor",description:""},{name:"Lighting Kit",slug:"lighting-kit",inorout:"indoor outdoor",description:""}],colors_finishes:[{name:"Black",subname:"",slug:"black",finish:"hp",inorout:"indoor outdoor",description:""},{name:"Bronze",subname:"",slug:"bronze",finish:"hp",inorout:"indoor outdoor",description:""},{name:"White",subname:"",slug:"white",finish:"hp",inorout:"indoor outdoor",description:""},{name:"Vintage Lantern",subname:"",slug:"vintage-lantern",finish:"hp",inorout:"indoor outdoor",description:""},{name:"Natural",subname:"",slug:"natural",finish:"natural",inorout:"indoor outdoor",description:""}]},staircaseOptionsNames={treads:"Treads",tread_coverings:"Tread Coverings",spindles:"Spindles",diameter:"Diameter",colors_finishes:"Colors & Options"},staircaseOptionsDescriptions={treads:"Trex Spiral Stairs come in two varieties; smooth plate or diamond plate. Please note that you can choose a covering with smooth plate but not with diamond plate.",spindles:"Please choose from a sampling of our most popular spindle options.",diameter:"Please choose your preferred diameter.",tread_coverings:"Trex offers it's top of the line Trex Transcend Decking as options for your tread coverings. There are a total of 10 options for this high performance material.",colors_finishes:"With a Trex stair, you have the option of 4 premium Trex colors for your spiral stair."},staircaseOptionsDescriptionAlts={no_tread_coverings_diamond:"When you select the Diamond plate tread there are no tread coverings. Please proceed to your spindles options.",no_tread_coverings:"We are happy to provide you with a cut out template if you wish to choose another material for your tread coverings."};var i=function(e){var o=window.location.href,t=new RegExp("[?&]"+e+"=([^&#]*)","i").exec(o);return t?t[1]:null}}();